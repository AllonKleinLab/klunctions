## Low-level pipeline
<b> 1. Download raw data </b>  
If you used BPF, start an interactive job on O2, then follow the instructions from their email. Something like this:
```bash
# Submit interactive job
srun --pty -p interactive -t 0-4:00 --mem 2000 -n 1 /bin/bash

# Download data (enter your BPF password when prompted)
scp -r bpf_username@bpfngs.med.harvard.edu:./run_id . 

```

<b> 2. Convert bcl files into fastq files  </b>  
- Edit `submit_bcl2fastq.sh` with the run folder name (folder that was downloaded in Step 1).  
- Submit the `bcl2fastq` job:
```bash 
bash submit_bcl2fastq.sh
```

<b> 3. Prep the `indrops.py` job submission script </b>  
Edit `submit_indrops.sh` with the name of your yaml file and the number of libraries sequenced. You shouldn't need to change anything else for a standard 4-lane NextSeq run. 

<b> 4. Prep the yaml file </b>  
The yaml file stores all the information about your sequencing run and the parameters used for various steps in the `indrops.py` pipeline. See https://github.com/indrops/indrops for additional details.
- `project_name`: a name for your project
- `project_dir`: where to output the processed files
- `name`: name of sequencing run
- `version`: inDrops gel version, almost always `v3`  
- `dir`: directory containing the fastq files generated by `bcl2fastq`
- `fastq_path`: file name structure for the fastq files. Shouldn't need to be changed if you used the `bcl2fastq` command from Step 2.
- `libraries`: library names and index sequences. See `library_sequences.txt` for our standard set of index sequences. 
- `bowtie_index`: path to bowtie index to use for mapping+quantification step 
